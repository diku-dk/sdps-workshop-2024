var ele=document.getElementById('sel');
ele.innerHTML=ele.innerHTML+'<option value="'+0+'">'+'CEST - Central European Summer Time'+'</option>';
ele.innerHTML=ele.innerHTML+'<option value="'+6+'">'+'EDT - Eastern Daylight Time (North America)'+'</option>';
function show(ele){
	$('td.time').each(function(index) {
		time_str = $( this ).attr('time');
		$(this).html(calculateNewDate(time_str, ele.options[ele.selectedIndex].value));
	});
	$('i.time').each(function(index) {
		time_str = $( this ).attr('time');
		$(this).html(calculateNewDate(time_str, ele.options[ele.selectedIndex].value));
	});
}

function calculateNewDate(time_str, option) {
	time_h_m = time_str.split('_');
	time_h = parseInt(time_h_m[0]);
	time_m = parseInt(time_h_m[1]);
	
	addition = "";
	if (option == "0") {
		addition = "CEST";
		time_h += parseInt(option);
		time_h = ((time_h - 1) % 24) + 1;
	} else if (option == "6") {
		addition = "EDT";
		time_h -= parseInt(option);
		time_h = ((time_h - 1) % 24) + 1;
	}
	
	return time_h.toString().padStart(2, "0") + ":" + time_m.toString().padStart(2, "0") + " " + addition;
}